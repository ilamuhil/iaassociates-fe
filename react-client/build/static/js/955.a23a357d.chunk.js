"use strict";(self.webpackChunkreact_client=self.webpackChunkreact_client||[]).push([[955],{2955:function(e,s,r){r.r(s),r.d(s,{default:function(){return X}});var a=r(189),n=r(7791),i=r(1026),c=r(7135),t=r.n(c),l=r(808),d=r(5773),o=r(6167),x=r(4337),u=r(4940),h=r(6257),m=r(8867),f=r(9769);function j(e){return(0,f.Z)("MuiCardActions",e)}(0,r(6333).Z)("MuiCardActions",["root","spacing"]);var v=r(7878),g=["disableSpacing","className"],Z=(0,h.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,s){var r=e.ownerState;return[s.root,!r.disableSpacing&&s.spacing]}})((function(e){var s=e.ownerState;return(0,d.Z)({display:"flex",alignItems:"center",padding:8},!s.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),p=o.forwardRef((function(e,s){var r=(0,m.Z)({props:e,name:"MuiCardActions"}),a=r.disableSpacing,n=void 0!==a&&a,i=r.className,c=(0,l.Z)(r,g),t=(0,d.Z)({},r,{disableSpacing:n}),o=function(e){var s=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,u.Z)(r,j,s)}(t);return(0,v.jsx)(Z,(0,d.Z)({className:(0,x.Z)(o.root,i),ownerState:t,ref:s},c))})),b=r(901),w=r(9925),N=r(1466),C=r(5972),k=r(9597),y=r(7656),S=r(4379),A=r(4686),z=r(4935),M=r(168),I=r(9099),P=r(9554),U=r(8873),B=r(2906),L=r(9949),E=r(5603),F=r(7677),R=r(6678),D=r(2679),O=r(9174),_=r(177),G=r(4386),H=r(518),J=r(9478),V=r(8757),q=r(3400),K=r(2618),Q=(0,o.lazy)((function(){return r.e(115).then(r.bind(r,8115))})),T=(0,o.lazy)((function(){return r.e(974).then(r.bind(r,5974))})),W=(0,o.lazy)((function(){return r.e(114).then(r.bind(r,4114))})),X=function(e){var s=(0,q.UO)().id,r=(0,o.useContext)(V.Z),c=(0,o.useState)(""),l=(0,i.Z)(c,2),d=l[0],x=l[1],u=(0,o.useState)(""),h=(0,i.Z)(u,2),m=h[0],f=h[1],j=(0,o.useState)(""),g=(0,i.Z)(j,2),Z=g[0],X=g[1],Y=(0,o.useState)(""),$=(0,i.Z)(Y,2),ee=$[0],se=$[1],re=(0,o.useState)(""),ae=(0,i.Z)(re,2),ne=ae[0],ie=ae[1],ce=(0,o.useState)(""),te=(0,i.Z)(ce,2),le=te[0],de=te[1],oe=(0,o.useState)(""),xe=(0,i.Z)(oe,2),ue=xe[0],he=xe[1],me=(0,o.useState)(!1),fe=(0,i.Z)(me,2),je=fe[0],ve=fe[1],ge=(0,o.useState)(!1),Ze=(0,i.Z)(ge,2),pe=Ze[0],be=Ze[1],we=r.useAxiosPrivate(),Ne=(0,o.useState)(!0),Ce=(0,i.Z)(Ne,2),ke=(Ce[0],Ce[1],function(){be(!1)}),ye=(0,o.useCallback)((function(){switch(Z){case"f1":de(U);break;case"f2":de(B);break;case"f3":de(L);break;case"f4":de(E);break;case"m2":de(R);break;case"m3":de(D);break;case"m4":de(O);break;default:de(F)}}),[Z]),Se=(0,o.useCallback)((function(){var e={avatar:m},r=J.Am.loading("Updating Avatar...");ye();var a=s?"user/avatar/".concat(s):"user/avatar/";we.put(a,e).then((function(e){J.Am.update(r,{render:"Avatar Updated Successfully",isLoading:!1,type:"success",autoClose:1e3}),window.location.reload()})).catch((function(e){console.error(e),J.Am.update(r,{render:"An error occurred",isLoading:!1,type:"error",autoClose:1e3}),be(!1)}))}),[m,ye,we,s]);return(0,o.useEffect)((function(){var e=new AbortController;return(0,n.Z)(t().mark((function r(){var a,n,i,c,l,d,o,u,h,m;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=s?"/user/id/".concat(s):"/user",r.next=4,we.get(a,{signal:e.signal,params:{email:"true",username:"true",avatar:"true",id:"true",role:"true",createdAt:"true"}});case 4:n=r.sent,i=n.data,c=i.email,l=i.username,d=i.avatar,o=void 0===d?"":d,u=i.role,h=void 0===u?"user":u,m=i.createdAt,se(c),ie(l),X(o),ye(),he(h),x(m),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.error(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})))(),function(){e.abort()}}),[we,ye,s]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6 col-lg-4",children:ne&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(b.Z,(0,a.Z)((0,a.Z)({},e),{},{style:{background:"linear-gradient(315deg, #e7eff9 0%, #cfd6e6 74%)"},children:[(0,v.jsx)(w.Z,{children:(0,v.jsxs)(N.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[(0,v.jsx)(C.Z,{src:le,sx:{height:80,mb:2,width:80,boxShadow:2,border:"4px solid white"}}),(0,v.jsx)(k.Z,{color:"textPrimary",gutterBottom:!0,variant:"caption",children:(0,v.jsx)("b",{children:ue})}),(0,v.jsx)(k.Z,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:ne}),(0,v.jsx)(k.Z,{color:"textPrimary",gutterBottom:!0,variant:"body2",children:ee})]})}),(0,v.jsx)(y.Z,{}),(0,v.jsx)(p,{disableSpacing:!0,sx:{justifyContent:"center"},children:(0,v.jsx)(S.Z,{color:"primary",variant:"text",onClick:function(e){ve((function(e){return!e}))},children:"Edit Profile"})})]})),(0,v.jsxs)(A.Z,{open:pe,onClose:ke,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,v.jsx)(z.Z,{id:"alert-dialog-title",children:"Choose an Avatar"}),(0,v.jsxs)(M.Z,{children:[(0,v.jsxs)("div",{className:"row mb-3",children:[(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("f1")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"f1"===m?"2px solid green":"none"},src:U})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("f2")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"f2"===m?"2px solid green":"none"},src:B})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("f3")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"f3"===m?"2px solid green":"none"},src:L})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("f4")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"f4"===m?"2px solid green":"none"},src:E})})})]}),(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("m1")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"m1"===m?"2px solid green":"none"},src:F})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("m2")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"m2"===m?"2px solid green":"none"},src:R})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("m3")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"m3"===m?"2px solid green":"none"},src:D})})}),(0,v.jsx)("div",{className:"col",children:(0,v.jsx)(I.Z,{onClick:function(){f("m4")},children:(0,v.jsx)(C.Z,{sx:{width:64,height:64,border:"m4"===m?"2px solid green":"none"},src:O})})})]})]}),(0,v.jsxs)(P.Z,{children:[(0,v.jsx)(S.Z,{onClick:ke,children:"Close"}),(0,v.jsx)(S.Z,{onClick:Se,autoFocus:!0,children:"Confirm"})]})]})]})}),(0,v.jsxs)("div",{className:"col-12 col-md-6 my-3 mt-md-0",children:[(0,v.jsx)("div",{className:"card mb-3 border-0 shadow",style:{backgroundImage:"linear-gradient(315deg, #e7eff9 0%, #cfd6e6 74%)"},children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsxs)("div",{className:"px-xl-3",children:[(0,v.jsx)(S.Z,{startIcon:(0,v.jsx)(G.Z,{}),onClick:function(){be(!0)},variant:"contained",size:"small",sx:{mr:4},children:"Update Avatar"}),(0,v.jsx)(S.Z,{variant:"contained",size:"small",color:"warning",onClick:function(e){r.logout()},startIcon:(0,v.jsx)(H.Z,{}),children:"Log Out"})]})})}),(0,v.jsx)("div",{className:"card border-0 shadow py-2",style:{backgroundImage:"linear-gradient(315deg, #e7eff9 0%, #cfd6e6 74%)"},children:(0,v.jsxs)("div",{className:"card-body",children:[(0,v.jsx)("h6",{className:"card-title font-weight-bold",children:"Support"}),(0,v.jsx)("p",{className:"card-text",children:"Get fast, free help from our friendly assistants."}),(0,v.jsx)(S.Z,{variant:"contained",size:"small",startIcon:(0,v.jsx)(_.Z,{}),children:"Contact Us"})]})})]})]}),je&&(0,v.jsx)("div",{className:"row flex-lg-nowrap mt-4",children:(0,v.jsx)("div",{className:"col",children:(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col-lg mb-3",children:(0,v.jsx)("div",{className:"card border-0 shadow",style:{backgroundImage:"linear-gradient(315deg, #e7eff9 0%, #cfd6e6 74%)"},children:(0,v.jsx)("div",{className:"card-body",children:(0,v.jsxs)("div",{className:"e-profile",children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)("div",{className:"col d-flex flex-column flex-sm-row justify-content-between mb-3",children:(0,v.jsxs)("div",{className:"text-sm-right",children:[(0,v.jsx)("div",{className:"text-muted text-capitalize",children:(0,v.jsxs)("small",{children:["Joined on"," ",(0,K.Z)(new Date(d),"dd MMM yyyy")]})}),(0,v.jsx)("h5",{className:"text-uppercase",children:"Billing & Preferences"})]})})}),(0,v.jsx)("div",{className:"tab-pane active",children:(0,v.jsxs)("form",{className:"form",noValidate:!0,children:[(0,v.jsx)("div",{className:"row",children:(0,v.jsx)(o.Suspense,{children:(0,v.jsx)(Q,{email:ee,setEmail:se})})}),(0,v.jsxs)("div",{className:"row",children:[!s&&(0,v.jsx)(o.Suspense,{children:(0,v.jsx)(T,{})}),"admin"!==ue&&!s&&(0,v.jsx)(o.Suspense,{children:(0,v.jsx)(W,{})})]})]})})]})})})})})})})]})}},4386:function(e,s,r){var a=r(7914);s.Z=void 0;var n=a(r(1657)),i=r(7878),c=(0,n.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");s.Z=c},177:function(e,s,r){var a=r(7914);s.Z=void 0;var n=a(r(1657)),i=r(7878),c=(0,n.default)((0,i.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call");s.Z=c}}]);
//# sourceMappingURL=955.a23a357d.chunk.js.map