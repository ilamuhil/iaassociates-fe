"use strict";(self.webpackChunkreact_client=self.webpackChunkreact_client||[]).push([[114],{4114:function(e,n,c){c.r(n);var s=c(1026),a=c(6167),r=c(3400),i=c(8757),t=c(9478),l=c(5120),o=c(1136),u=c(5607),d=c(4379),f=c(7878);n.default=function(){var e=(0,a.useContext)(i.Z).useAxiosPrivate(),n=(0,a.useState)(!0),c=(0,s.Z)(n,2),m=c[0],h=c[1],p=(0,a.useState)(!0),v=(0,s.Z)(p,2),x=v[0],g=v[1],j=(0,r.UO)().id;(0,a.useEffect)((function(){var n=new AbortController;return e.get("/user",{params:{marketingPreference:!0},signal:n.signal}).then((function(e){var n=e.data.marketingPreference,c=n.ServiceOffers,s=n.complianceInfo;h(c),g(s)})).catch((function(e){console.warn("could not retrieve marketing data")})),function(){n.abort()}}),[e]);var k=(0,a.useCallback)((function(){t.Am.promise(e.post("/user/marketing/".concat(j||""),{serviceOffers:m,complianceInfo:x}),{pending:"Updating your settings preference",success:"Successfully updated preference \u2713",error:"Could not update your preference. Try again later"})}),[e,x,m,j]);return(0,f.jsxs)("div",{className:"col-12 col-sm-5 mb-3",children:[(0,f.jsx)("div",{className:"row mb-4",children:(0,f.jsx)("div",{className:"col",children:(0,f.jsx)("div",{className:"custom-controls-stacked pr-2",children:(0,f.jsxs)(l.Z,{children:[(0,f.jsx)("div",{className:"mb-2",children:(0,f.jsx)("b",{children:"Email Notification Settings"})}),(0,f.jsx)(o.Z,{control:(0,f.jsx)(u.Z,{size:"small",checked:x,onChange:function(){g((function(e){return!e}))}}),label:"Compliance Info and Deadlines"}),(0,f.jsx)(o.Z,{control:(0,f.jsx)(u.Z,{size:"small",checked:m,onChange:function(){h((function(e){return!e}))}}),label:"Occassional Service Discounts and Offers"}),(0,f.jsx)(o.Z,{control:(0,f.jsx)(u.Z,{size:"small",checked:!0}),label:"My Service Updates"})]})})})}),(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col",children:(0,f.jsx)(d.Z,{variant:"contained",size:"small",color:"warning",onClick:k,children:"Update Email Settings"})})})]})}}}]);
//# sourceMappingURL=114.5f5564d8.chunk.js.map